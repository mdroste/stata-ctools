
  ___  ____  ____  ____  ____ ®
 /__    /   ____/   /   ____/      StataNow 18.5
___/   /   /___/   /   /___/       MP—Parallel Edition

 Statistics and Data Science       Copyright 1985-2023 StataCorp LLC
                                   StataCorp
                                   4905 Lakeway Drive
                                   College Station, Texas 77845 USA
                                   800-782-8272        https://www.stata.com
                                   979-696-4600        service@stata.com

Stata license: Unlimited-user 16-core network, expiring  2 Jul 2026
Serial number: 501909320077
  Licensed to: Michael Droste
               Stanford University GSB

Notes:
      1. Stata is running in batch mode.
      2. Unicode is supported; see help unicode_advice.
      3. More than 2 billion observations are allowed; see help obs_advice.
      4. Maximum number of variables is set to 5,000 but can be increased;
          see help set_maxvar.


Running /Users/Mike/Documents/Stata/profile.do ...

. do "validation/validate_cexport.do" 

. /****************************************************************************
> ***
>  * validate_cexport.do
>  *
>  * Comprehensive validation tests for cexport delimited vs export delimited
>  * Tests all export options: delimiter, novarnames, quote, nolabel, if/in
>  *
>  * VERIFICATION: Exports both CSVs, imports them back into Stata, and compare
> s:
>  *   - First attempts cf _all for byte-for-byte comparison
>  *   - Falls back to tolerance-based comparison (1e-6) for numeric variables
>  *     to handle floating point precision differences in CSV formatting
>  *   - String variables must match exactly
>  ****************************************************************************
> **/
. 
. * Load setup (works from project root or validation dir)
. capture do "validation/validate_setup.do"

. if _rc != 0 {
.     do "validate_setup.do"
. }

. 
. quietly {

----------------------------------------------------------------------
Plugin Check
----------------------------------------------------------------------
[PASS] cexport plugin loads and runs

----------------------------------------------------------------------
Basic Comma-Delimited Export
----------------------------------------------------------------------
[PASS] basic export data identical (cf _all)

----------------------------------------------------------------------
Tab Delimiter
----------------------------------------------------------------------
[PASS] tab delimiter data identical (cf _all)

----------------------------------------------------------------------
Semicolon Delimiter
----------------------------------------------------------------------
[PASS] semicolon delimiter data identical (cf _all)

----------------------------------------------------------------------
novarnames Option
----------------------------------------------------------------------
[PASS] novarnames data identical (cf _all)

----------------------------------------------------------------------
quote Option
----------------------------------------------------------------------
[PASS] quote option data identical (cf _all)

----------------------------------------------------------------------
nolabel Option
----------------------------------------------------------------------
[PASS] with labels data identical (cf _all)
[PASS] nolabel data identical (cf _all)

----------------------------------------------------------------------
Variable Selection
----------------------------------------------------------------------
[PASS] variable selection (3 vars) data identical (cf _all)

----------------------------------------------------------------------
if Condition
----------------------------------------------------------------------
[PASS] if foreign==1 data identical (cf _all)
[PASS] if price>10000 data identical (cf _all)

----------------------------------------------------------------------
in Condition
----------------------------------------------------------------------
[PASS] in 1/20 data identical (cf _all)
[PASS] in 30/50 data identical (cf _all)

----------------------------------------------------------------------
Combined if and in
----------------------------------------------------------------------
[PASS] if and in combined data identical (cf _all)

----------------------------------------------------------------------
Census Dataset
----------------------------------------------------------------------
[PASS] census data identical (cf _all)

----------------------------------------------------------------------
Large Dataset Export
----------------------------------------------------------------------
[PASS] large dataset (50K) data identical (cf _all)

----------------------------------------------------------------------
Panel Data (nlswork)
----------------------------------------------------------------------
[PASS] panel data identical (cf _all)

----------------------------------------------------------------------
verbose/timeit Options
----------------------------------------------------------------------
[PASS] verbose option accepted
[PASS] timeit option accepted

----------------------------------------------------------------------
replace Behavior
----------------------------------------------------------------------
[PASS] without replace: fails for existing file
[PASS] with replace: overwrites file

----------------------------------------------------------------------
Edge Cases
----------------------------------------------------------------------
[PASS] single observation data identical (cf _all)
[PASS] single variable data identical (cf _all)
[PASS] strings with commas data identical (cf _all)

----------------------------------------------------------------------
Missing Values
----------------------------------------------------------------------
[PASS] missing values data identical (cf _all)

----------------------------------------------------------------------
Numeric Precision
----------------------------------------------------------------------
[PASS] numeric precision data identical (cf _all)

----------------------------------------------------------------------
Special Characters
----------------------------------------------------------------------
[PASS] special characters data identical (cf _all)

----------------------------------------------------------------------
Multiline/Malformed String Export
----------------------------------------------------------------------
no variables defined
r(111);

end of do-file
r(111);
