
  ___  ____  ____  ____  ____ ®
 /__    /   ____/   /   ____/      StataNow 18.5
___/   /   /___/   /   /___/       MP—Parallel Edition

 Statistics and Data Science       Copyright 1985-2023 StataCorp LLC
                                   StataCorp
                                   4905 Lakeway Drive
                                   College Station, Texas 77845 USA
                                   800-782-8272        https://www.stata.com
                                   979-696-4600        service@stata.com

Stata license: Unlimited-user 16-core network, expiring  2 Jul 2026
Serial number: 501909320077
  Licensed to: Michael Droste
               Stanford University GSB

Notes:
      1. Stata is running in batch mode.
      2. Unicode is supported; see help unicode_advice.
      3. More than 2 billion observations are allowed; see help obs_advice.
      4. Maximum number of variables is set to 5,000 but can be increased;
          see help set_maxvar.


Running /Users/Mike/Documents/Stata/profile.do ...

. do validation/validate_all.do 

. /****************************************************************************
> ***
>  * validate_all.do
>  *
>  * Master test runner for ctools validation suite
>  * Runs all individual validation tests and provides summary
>  *
>  * Usage:
>  *   stata -b do validate_all.do
>  *
>  * Individual tests can also be run separately:
>  *   stata -b do validate_csort.do
>  *   stata -b do validate_cmerge.do
>  *   stata -b do validate_cimport.do
>  *   stata -b do validate_cexport.do
>  *   stata -b do validate_creghdfe.do
>  *   stata -b do validate_cqreg.do
>  *   stata -b do validate_civreghdfe.do
>  ****************************************************************************
> **/
. 
. version 14.0

. clear all

. set more off

. set trace off

. 
. quietly {

######################################################################
#                                                                    #
#               CTOOLS VALIDATION TEST SUITE                         #
#                                                                    #
######################################################################

Running comprehensive validation tests for all ctools commands.
Each command is compared against its native Stata equivalent.

Date: 14 Jan 2026 16:58:52
Stata version: 18.5
Platform: Unix Mac (Apple Silicon)


======================================================================
  Running: csort validation tests
======================================================================

. /****************************************************************************
> ***
>  * validate_csort.do
>  *
>  * Comprehensive validation tests for csort vs native Stata sort
>  * Tests all sort algorithms and data type scenarios
>  *
>  * Algorithms tested:
>  *   - lsd (default): LSD radix sort
>  *   - msd: MSD radix sort
>  *   - timsort: Timsort
>  *   - sample: Sample sort
>  *   - counting: Counting sort
>  *   - merge: Parallel merge sort
>  *   - ips4o: In-place parallel super scalar samplesort
>  ****************************************************************************
> **/
. 
. * Load setup (works from project root or validation dir)
. capture do "validation/validate_setup.do"

. if _rc != 0 {
.     do "validate_setup.do"
. }

. 
. quietly {

======================================================================
              CSORT VALIDATION TEST SUITE
======================================================================

----------------------------------------------------------------------
Plugin Check
----------------------------------------------------------------------
[PASS] csort plugin loads and runs

----------------------------------------------------------------------
Default Algorithm (LSD Radix Sort)
----------------------------------------------------------------------
[PASS] numeric: price
[PASS] numeric: mpg
[PASS] numeric: weight
[PASS] string: make
[PASS] binary: foreign
[PASS] with missings: rep78
[PASS] two keys: foreign price
[PASS] three keys: foreign rep78 price
[PASS] mixed keys: make price

----------------------------------------------------------------------
MSD Radix Sort Algorithm
----------------------------------------------------------------------
[PASS] numeric: price [alg=msd]
[PASS] string: make [alg=msd]
[PASS] string: state [alg=msd]
[PASS] mixed: foreign make [alg=msd]
[PASS] with missings [alg=msd]

----------------------------------------------------------------------
Timsort Algorithm
----------------------------------------------------------------------
[PASS] numeric: price [alg=timsort]
[PASS] multi-numeric [alg=timsort]
[PASS] string: make [alg=timsort]
[PASS] with missings [alg=timsort]
[PASS] already sorted [alg=timsort]
[PASS] reverse sorted [alg=timsort]

----------------------------------------------------------------------
Sample Sort Algorithm
----------------------------------------------------------------------
[PASS] numeric: price [alg=sample]
[PASS] string: make [alg=sample]
[PASS] string: state [alg=sample]
[PASS] mixed: foreign make [alg=sample]
[PASS] with missings [alg=sample]

----------------------------------------------------------------------
Counting Sort Algorithm
----------------------------------------------------------------------
[PASS] binary (0/1) [alg=counting]
[PASS] small int range [alg=counting]
[PASS] year data [alg=counting]
[PASS] multi-int [alg=counting]

----------------------------------------------------------------------
Parallel Merge Sort Algorithm
----------------------------------------------------------------------
[PASS] numeric: price [alg=merge]
[PASS] string: make [alg=merge]
[PASS] string: state [alg=merge]
[PASS] mixed: foreign make [alg=merge]
[PASS] with missings [alg=merge]

----------------------------------------------------------------------
IPS4o Algorithm
----------------------------------------------------------------------
[PASS] numeric: price [alg=ips4o]
[PASS] string: make [alg=ips4o]
[PASS] string: state [alg=ips4o]
[PASS] mixed: foreign make [alg=ips4o]
[PASS] with missings [alg=ips4o]
[PASS] already sorted [alg=ips4o]
[PASS] reverse sorted [alg=ips4o]

----------------------------------------------------------------------
Edge Cases
----------------------------------------------------------------------
[PASS] single obs [alg=lsd]
[PASS] single obs [alg=msd]
[PASS] single obs [alg=timsort]
[PASS] single obs [alg=sample]
[PASS] single obs [alg=merge]
[PASS] single obs [alg=ips4o]
[PASS] two obs [alg=lsd]
[PASS] two obs [alg=msd]
[PASS] two obs [alg=timsort]
[PASS] two obs [alg=sample]
[PASS] two obs [alg=merge]
[PASS] two obs [alg=ips4o]
[PASS] all same values [alg=lsd]
[PASS] all same values [alg=msd]
[PASS] all same values [alg=timsort]
[PASS] all same values [alg=sample]
[PASS] all same values [alg=merge]
[PASS] all same values [alg=ips4o]

----------------------------------------------------------------------
Numeric Edge Cases
----------------------------------------------------------------------
[PASS] negative numbers
[PASS] extreme integers
[PASS] small floats (1e-10)
[PASS] large floats (1e10)
[PASS] mixed pos/neg

----------------------------------------------------------------------
String Edge Cases
----------------------------------------------------------------------
[PASS] empty strings
[PASS] variable length strings
[PASS] mixed case strings

----------------------------------------------------------------------
Large Dataset Tests
----------------------------------------------------------------------
[PASS] 10K random floats
[PASS] 10K random ints
[PASS] 10K random strings
[PASS] 50K random normal
[PASS] 50K group + id

----------------------------------------------------------------------
Census Dataset
----------------------------------------------------------------------
[PASS] state name
[PASS] region code
[PASS] population
[PASS] region state
[PASS] region pop

----------------------------------------------------------------------
Option Tests
----------------------------------------------------------------------
[PASS] verbose option accepted
[PASS] timeit option accepted

----------------------------------------------------------------------
SUMMARY: csort
----------------------------------------------------------------------
Tests passed: 80 / 80
Tests failed: 0
----------------------------------------------------------------------
ALL TESTS PASSED
----------------------------------------------------------------------

. 
end of do-file
csort: ALL TESTS PASSED (80/80)

======================================================================
  Running: cmerge validation tests
======================================================================

. /****************************************************************************
> ***
>  * validate_cmerge.do
>  *
>  * Comprehensive validation tests for cmerge vs native Stata merge
>  * Tests all merge types and options
>  *
>  * Merge types: 1:1, m:1, 1:m, m:m
>  * Options: keep(), generate(), nogenerate, keepusing(), sorted, force,
>  *          noreport, nolabel, nonotes, update, replace, assert()
>  ****************************************************************************
> **/
. 
. * Load setup (works from project root or validation dir)
. capture do "validation/validate_setup.do"

. if _rc != 0 {
.     do "validate_setup.do"
. }

. 
. quietly {

----------------------------------------------------------------------
1:1 Merge Tests
----------------------------------------------------------------------
[PASS] 1:1 numeric key
[PASS] 1:1 string key

----------------------------------------------------------------------
m:1 Merge Tests
----------------------------------------------------------------------
[PASS] m:1 foreign lookup
[PASS] m:1 census region

----------------------------------------------------------------------
1:m Merge Tests
----------------------------------------------------------------------
[PASS] 1:m region to states

----------------------------------------------------------------------
m:m Merge Tests
----------------------------------------------------------------------

>>> [FAIL] m:m basic
>>>        merged data differs from Stata merge


----------------------------------------------------------------------
keep() Option Tests
----------------------------------------------------------------------
[PASS] keep(match)
[PASS] keep(master)
[PASS] keep(using)
[PASS] keep(master match)
[PASS] keep(master using)
[PASS] keep(using match)

----------------------------------------------------------------------
generate/nogenerate Options
----------------------------------------------------------------------
[PASS] nogenerate
[PASS] generate(merge_result)

----------------------------------------------------------------------
keepusing() Option
----------------------------------------------------------------------
[PASS] keepusing single var
[PASS] keepusing two vars

----------------------------------------------------------------------
Multiple Key Variables
----------------------------------------------------------------------
[PASS] two keys: idcode year
[PASS] three keys
[PASS] mixed keys: string+numeric

----------------------------------------------------------------------
Edge Cases
----------------------------------------------------------------------
[PASS] no matches
[PASS] all matches
[PASS] missing key values
[PASS] negative keys
[PASS] float keys

----------------------------------------------------------------------
Large Dataset Tests
----------------------------------------------------------------------
[PASS] 50K 1:1 full match
[PASS] 100K m:1
[PASS] partial overlap (50%)

----------------------------------------------------------------------
String Key Tests
----------------------------------------------------------------------
[PASS] long string keys
[PASS] state name 1:1

----------------------------------------------------------------------
Panel Data (nlswork)
----------------------------------------------------------------------
[PASS] panel 1:1
[PASS] panel m:1 individual

----------------------------------------------------------------------
assert() Option Tests
----------------------------------------------------------------------
[PASS] assert(match) passes
[PASS] assert(match) fails correctly

----------------------------------------------------------------------
update/replace Options
----------------------------------------------------------------------
[PASS] update option
[PASS] update replace option

----------------------------------------------------------------------
sorted Option
----------------------------------------------------------------------
[PASS] sorted option

----------------------------------------------------------------------
force Option
----------------------------------------------------------------------
[PASS] force option

----------------------------------------------------------------------
nolabel/nonotes Options
----------------------------------------------------------------------
[PASS] nolabel option accepted
[PASS] nonotes option accepted

----------------------------------------------------------------------
FAILED TESTS DETAIL:
----------------------------------------------------------------------
  1. m:m basic: merged data differs from Stata merge
----------------------------------------------------------------------


----------------------------------------------------------------------
SUMMARY: cmerge
----------------------------------------------------------------------
Tests passed: 38 / 39
Tests failed: 1
----------------------------------------------------------------------
VALIDATION FAILED - See failed tests above
----------------------------------------------------------------------
--Break--
--Break--
--Break--
r(1);

end of do-file
cmerge: FAILED (1 of 39 tests failed)

======================================================================
  Running: cimport validation tests
======================================================================

. /****************************************************************************
> ***
>  * validate_cimport.do
>  *
>  * Comprehensive validation tests for cimport delimited vs import delimited
>  * Tests all import options: delimiters, varnames, case, bindquotes, stripquo
> tes
>  ****************************************************************************
> **/
. 
. * Load setup (works from project root or validation dir)
. capture do "validation/validate_setup.do"

. if _rc != 0 {
.     do "validate_setup.do"
. }

. 
. quietly {

----------------------------------------------------------------------
Creating Test Data Files
----------------------------------------------------------------------
[PASS] Test files created

----------------------------------------------------------------------
Plugin Check
----------------------------------------------------------------------
[PASS] cimport plugin loads and runs

----------------------------------------------------------------------
Basic Comma-Delimited Import
----------------------------------------------------------------------
[PASS] basic CSV dimensions match (N=5, K=4)

----------------------------------------------------------------------
Tab-Delimited Import
----------------------------------------------------------------------

>>> [FAIL] tab-delimited
>>>        dimensions differ


----------------------------------------------------------------------
Semicolon-Delimited Import
----------------------------------------------------------------------
[PASS] semicolon-delimited N matches

----------------------------------------------------------------------
varnames() Option
----------------------------------------------------------------------
[PASS] varnames(1) N matches
[PASS] varnames(nonames) dimensions match

----------------------------------------------------------------------
case() Option
----------------------------------------------------------------------
[PASS] case(preserve) accepted
[PASS] case(lower) produces lowercase vars
[PASS] case(upper) produces uppercase vars

----------------------------------------------------------------------
Missing Values
----------------------------------------------------------------------
[PASS] missing value count matches

----------------------------------------------------------------------
Quoted Fields
----------------------------------------------------------------------
[PASS] quoted fields N matches

----------------------------------------------------------------------
bindquotes() Option
----------------------------------------------------------------------
[PASS] bindquotes(strict) accepted
[PASS] bindquotes(loose) accepted

----------------------------------------------------------------------
stripquotes Option
----------------------------------------------------------------------
[PASS] stripquotes option accepted

----------------------------------------------------------------------
Large File Import
----------------------------------------------------------------------
[PASS] large file (5000 rows) dimensions match

----------------------------------------------------------------------
verbose Option
----------------------------------------------------------------------
[PASS] verbose option accepted

----------------------------------------------------------------------
clear Option
----------------------------------------------------------------------
[PASS] no clear: fails with data in memory
[PASS] clear option works

----------------------------------------------------------------------
Value Comparisons
----------------------------------------------------------------------
[PASS] numeric values match
[PASS] string values match

----------------------------------------------------------------------
Round-Trip Tests
----------------------------------------------------------------------
[PASS] auto dataset round-trip
[PASS] census dataset round-trip

----------------------------------------------------------------------
FAILED TESTS DETAIL:
----------------------------------------------------------------------
  1. tab-delimited: dimensions differ
----------------------------------------------------------------------


----------------------------------------------------------------------
SUMMARY: cimport
----------------------------------------------------------------------
Tests passed: 22 / 23
Tests failed: 1
----------------------------------------------------------------------
VALIDATION FAILED - See failed tests above
----------------------------------------------------------------------
--Break--
--Break--
--Break--
r(1);

end of do-file
cimport: FAILED (1 of 23 tests failed)

======================================================================
  Running: cexport validation tests
======================================================================

. /****************************************************************************
> ***
>  * validate_cexport.do
>  *
>  * Comprehensive validation tests for cexport delimited vs export delimited
>  * Tests all export options: delimiter, novarnames, quote, nolabel, if/in
>  ****************************************************************************
> **/
. 
. * Load setup (works from project root or validation dir)
. capture do "validation/validate_setup.do"

. if _rc != 0 {
.     do "validate_setup.do"
. }

. 
. quietly {

----------------------------------------------------------------------
Plugin Check
----------------------------------------------------------------------
[PASS] cexport plugin loads and runs

----------------------------------------------------------------------
Basic Comma-Delimited Export
----------------------------------------------------------------------
[PASS] basic export dimensions match

----------------------------------------------------------------------
Tab Delimiter
----------------------------------------------------------------------
[PASS] tab delimiter N matches

----------------------------------------------------------------------
Semicolon Delimiter
----------------------------------------------------------------------
[PASS] semicolon delimiter N matches

----------------------------------------------------------------------
novarnames Option
----------------------------------------------------------------------
[PASS] novarnames N matches

----------------------------------------------------------------------
quote Option
----------------------------------------------------------------------
[PASS] quote option N matches

----------------------------------------------------------------------
nolabel Option
----------------------------------------------------------------------
[PASS] with labels N matches
[PASS] nolabel N matches

----------------------------------------------------------------------
Variable Selection
----------------------------------------------------------------------
[PASS] variable selection (3 vars)

----------------------------------------------------------------------
if Condition
----------------------------------------------------------------------
[PASS] if condition N matches (foreign==1)
[PASS] if condition N matches (price>10000)

----------------------------------------------------------------------
in Condition
----------------------------------------------------------------------
[PASS] in 1/20 N=20
[PASS] in 30/50 N=21

----------------------------------------------------------------------
Combined if and in
----------------------------------------------------------------------
[PASS] if and in combined N matches

----------------------------------------------------------------------
Census Dataset
----------------------------------------------------------------------
[PASS] census dimensions match

----------------------------------------------------------------------
Large Dataset Export
----------------------------------------------------------------------
[PASS] large dataset (50K) N matches

----------------------------------------------------------------------
Panel Data (nlswork)
----------------------------------------------------------------------
[PASS] panel data N matches

----------------------------------------------------------------------
verbose/timeit Options
----------------------------------------------------------------------
[PASS] verbose option accepted
[PASS] timeit option accepted

----------------------------------------------------------------------
replace Behavior
----------------------------------------------------------------------
[PASS] without replace: fails for existing file
[PASS] with replace: overwrites file

----------------------------------------------------------------------
Edge Cases
----------------------------------------------------------------------
[PASS] single observation export
[PASS] single variable export
[PASS] strings with commas

----------------------------------------------------------------------
SUMMARY: cexport
----------------------------------------------------------------------
Tests passed: 24 / 24
Tests failed: 0
----------------------------------------------------------------------
ALL TESTS PASSED
----------------------------------------------------------------------

. 
end of do-file
cexport: ALL TESTS PASSED (24/24)

======================================================================
  Running: creghdfe validation tests
======================================================================

. /****************************************************************************
> ***
>  * validate_creghdfe.do
>  *
>  * Comprehensive validation tests for creghdfe vs reghdfe
>  * Tests all options: absorb, vce, weights, tolerance, maxiter, resid
>  ****************************************************************************
> **/
. 
. * Load setup (works from project root or validation dir)
. capture do "validation/validate_setup.do"

. if _rc != 0 {
.     do "validate_setup.do"
. }

. 
. quietly {

----------------------------------------------------------------------
Plugin Check
----------------------------------------------------------------------
[PASS] creghdfe plugin loads and runs

----------------------------------------------------------------------
Basic Fixed Effects (auto)
----------------------------------------------------------------------
[PASS] single FE
[PASS] two-way FE
[PASS] single covariate
[PASS] three covariates
[PASS] many covariates

----------------------------------------------------------------------
VCE Options
----------------------------------------------------------------------
[PASS] vce(robust)
[PASS] vce(cluster)
[PASS] two-way + robust
[PASS] two-way + cluster

----------------------------------------------------------------------
Weights
----------------------------------------------------------------------
[PASS] aweight
[PASS] fweight
[PASS] pweight

----------------------------------------------------------------------
Census Dataset
----------------------------------------------------------------------
[PASS] single FE
[PASS] two covariates
[PASS] many covariates
[PASS] robust

----------------------------------------------------------------------
Panel Data (nlswork)
----------------------------------------------------------------------
[PASS] individual FE
[PASS] two-way FE
[PASS] three covariates
[PASS] robust
[PASS] cluster idcode

----------------------------------------------------------------------
Large Dataset
----------------------------------------------------------------------
[PASS] 50K single FE
[PASS] 50K two-way FE
[PASS] 50K robust

----------------------------------------------------------------------
tolerance/maxiter Options
----------------------------------------------------------------------
[PASS] tolerance(1e-10) accepted
[PASS] maxiter(1000) accepted

----------------------------------------------------------------------
resid Option
----------------------------------------------------------------------
[PASS] resid option creates residual variable
[PASS] resid2(name) creates named residual

----------------------------------------------------------------------
verbose/timeit Options
----------------------------------------------------------------------
[PASS] verbose option accepted
[PASS] timeit option accepted

----------------------------------------------------------------------
if/in Conditions
----------------------------------------------------------------------
[PASS] if condition: N matches
[PASS] in condition: N matches

----------------------------------------------------------------------
nostandardize Option
----------------------------------------------------------------------
[PASS] nostandardize option accepted

----------------------------------------------------------------------
Edge Cases
----------------------------------------------------------------------
[PASS] singleton FE handling (rc=2001)
[PASS] many FE levels (1000): N matches

----------------------------------------------------------------------
SUMMARY: creghdfe
----------------------------------------------------------------------
Tests passed: 36 / 36
Tests failed: 0
----------------------------------------------------------------------
ALL TESTS PASSED
----------------------------------------------------------------------

. 
end of do-file
creghdfe: ALL TESTS PASSED (36/36)

======================================================================
  Running: cqreg validation tests
======================================================================

. /****************************************************************************
> ***
>  * validate_cqreg.do
>  *
>  * Comprehensive validation tests for cqreg vs qreg
>  * Tests all options: quantile, vce, denmethod, bwmethod, tolerance, maxiter
>  ****************************************************************************
> **/
. 
. * Load setup (works from project root or validation dir)
. capture do "validation/validate_setup.do"

. if _rc != 0 {
.     do "validate_setup.do"
. }

. 
. quietly {

----------------------------------------------------------------------
Plugin Check
----------------------------------------------------------------------
[PASS] cqreg plugin loads and runs

----------------------------------------------------------------------
Basic Quantile Tests (auto)
----------------------------------------------------------------------
[PASS] median (q=0.5)
[PASS] q=0.25
[PASS] q=0.75
[PASS] q=0.10
[PASS] q=0.90

----------------------------------------------------------------------
Covariate Variations
----------------------------------------------------------------------
[PASS] single covariate
[PASS] three covariates
[PASS] many covariates

----------------------------------------------------------------------
VCE Options
----------------------------------------------------------------------
[PASS] vce(robust)
[PASS] vce(iid) accepted

----------------------------------------------------------------------
Census Dataset
----------------------------------------------------------------------
[PASS] census median
[PASS] census q=0.25
[PASS] census q=0.75

----------------------------------------------------------------------
Panel Data (nlswork)
----------------------------------------------------------------------
[PASS] nlswork median
[PASS] nlswork q=0.25
[PASS] nlswork q=0.75

----------------------------------------------------------------------
Large Dataset
----------------------------------------------------------------------
[PASS] 10K median
[PASS] 10K q=0.25
[PASS] 10K q=0.75

----------------------------------------------------------------------
denmethod Option
----------------------------------------------------------------------
[PASS] denmethod(fitted) accepted
[PASS] denmethod(residual) accepted
[PASS] denmethod(kernel) accepted

----------------------------------------------------------------------
bwmethod Option
----------------------------------------------------------------------
[PASS] bwmethod(hsheather) accepted
[PASS] bwmethod(bofinger) accepted
[PASS] bwmethod(chamberlain) accepted

----------------------------------------------------------------------
tolerance/maxiter Options
----------------------------------------------------------------------
[PASS] tolerance(1e-10) accepted
[PASS] maxiter(500) accepted

----------------------------------------------------------------------
verbose/timeit Options
----------------------------------------------------------------------
[PASS] verbose option accepted
[PASS] timeit option accepted

----------------------------------------------------------------------
if/in Conditions
----------------------------------------------------------------------
[PASS] if condition: N matches
[PASS] in condition: N matches

----------------------------------------------------------------------
absorb Option (experimental)
----------------------------------------------------------------------
[PASS] absorb option accepted

----------------------------------------------------------------------
Extreme Quantiles
----------------------------------------------------------------------
[PASS] q=0.05 accepted
[PASS] q=0.95 accepted

----------------------------------------------------------------------
SUMMARY: cqreg
----------------------------------------------------------------------
Tests passed: 35 / 35
Tests failed: 0
----------------------------------------------------------------------
ALL TESTS PASSED
----------------------------------------------------------------------

. 
end of do-file
cqreg: ALL TESTS PASSED (35/35)

======================================================================
  Running: civreghdfe validation tests
======================================================================

. /****************************************************************************
> ***
>  * validate_civreghdfe.do
>  *
>  * Comprehensive validation tests for civreghdfe vs ivreghdfe
>  * Tests all options: absorb, vce, weights, first, small, tolerance, maxiter
>  *
>  * Requires ivreghdfe to be installed (ssc install ivreghdfe)
>  ****************************************************************************
> **/
. 
. * Load setup (works from project root or validation dir)
. capture do "validation/validate_setup.do"

. if _rc != 0 {
.     do "validate_setup.do"
. }

. 
. quietly {

----------------------------------------------------------------------
Prerequisite Check
----------------------------------------------------------------------
[PASS] ivreghdfe is installed

----------------------------------------------------------------------
Plugin Check
----------------------------------------------------------------------
[PASS] civreghdfe plugin loads and runs

----------------------------------------------------------------------
Basic IV Tests (auto)
----------------------------------------------------------------------
[PASS] single endog, single instr
[PASS] single endog, two instr
[PASS] with exog var
[PASS] with multiple exog

----------------------------------------------------------------------
Multiple Endogenous Variables
----------------------------------------------------------------------
[PASS] two endog
[PASS] two endog, more instr

----------------------------------------------------------------------
VCE Options
----------------------------------------------------------------------
[PASS] vce(robust)
[PASS] vce(cluster)
[PASS] multi-instr + robust

----------------------------------------------------------------------
Two-Way Fixed Effects
----------------------------------------------------------------------
[PASS] two-way FE
[PASS] two-way + robust

----------------------------------------------------------------------
Census Dataset
----------------------------------------------------------------------
[PASS] census basic
[PASS] census two instr
[PASS] census with exog

----------------------------------------------------------------------
Panel Data (nlswork)
----------------------------------------------------------------------
[PASS] nlswork basic
[PASS] nlswork two instr
[PASS] nlswork robust
[PASS] nlswork cluster

----------------------------------------------------------------------
Large Dataset
----------------------------------------------------------------------
[PASS] 20K dataset: N matches

----------------------------------------------------------------------
first Option
----------------------------------------------------------------------
[PASS] first option accepted

----------------------------------------------------------------------
small Option
----------------------------------------------------------------------
[PASS] small option accepted

----------------------------------------------------------------------
tolerance/maxiter Options
----------------------------------------------------------------------
[PASS] tolerance(1e-10) accepted
[PASS] maxiter(1000) accepted

----------------------------------------------------------------------
verbose/timeit Options
----------------------------------------------------------------------
[PASS] verbose option accepted
[PASS] timeit option accepted

----------------------------------------------------------------------
if/in Conditions
----------------------------------------------------------------------
[PASS] if condition: N matches
[PASS] in condition: N matches

----------------------------------------------------------------------
Coefficient Comparison
----------------------------------------------------------------------
[PASS] coefficients match (maxdiff=2.27373675443e-13)

----------------------------------------------------------------------
Weights
----------------------------------------------------------------------
[PASS] aweight accepted
[PASS] fweight accepted
[PASS] pweight accepted

----------------------------------------------------------------------
SUMMARY: civreghdfe
----------------------------------------------------------------------
Tests passed: 33 / 33
Tests failed: 0
----------------------------------------------------------------------
ALL TESTS PASSED
----------------------------------------------------------------------

. 
end of do-file
civreghdfe: ALL TESTS PASSED (33/33)

######################################################################
#                     VALIDATION SUMMARY                             #
######################################################################

----------------------------------------------------------------------
ALL FAILED TESTS:
----------------------------------------------------------------------

  [cmerge] m:m basic: merged data differs from Stata merge
  [cimport] tab-del
> imited: dimensions differ
----------------------------------------------------------------------

Component Results:
-------------------------------------------------------
  Command       Passed   Failed   Total    Status
-------------------------------------------------------
  csort            80       0      80    PASS
  cmerge           38       1      39    FAIL
  cimport          22       1      23    FAIL
  cexport          24       0      24    PASS
  creghdfe         36       0      36    PASS
  cqreg            35       0      35    PASS
  civreghdfe       33       0      33    PASS
-------------------------------------------------------
  TOTAL           268       2     270
-------------------------------------------------------

######################################################################
#                                                                    #
#                   SOME VALIDATION TESTS FAILED                     #
#                                                                    #
######################################################################

See 'ALL FAILED TESTS' section above for details.

Completed: 14 Jan 2026 16:58:57


. 
. * Return error code if any tests failed
. if `total_failed' > 0 {
.     exit 1
--Break--
r(1);
. }
--Break--
r(1);

end of do-file
--Break--
r(1);
